document.getElementById("health_facility-index-content").innerHTML = "<%= escape_javascript render 'health_facilities/devices' %>"

jQuery(document).ready(function () {
  $("#health_facility-tabs").find(".nav-link").removeClass("active")
  $("#nav-link-devices").addClass("active")

  $("#devices-datatable").dataTable({
    "processing": true,
    "info": false,
    "bLengthChange": false,
    "serverSide": true,
    "ajax": $("#devices-datatable").data('source'),
    "pagingType": "full_numbers",
    "columns": [
      { "data": "mac_address" },
      { "data": "name" },
      { "data": "brand" },
      { "data": "model" },
      { "data": "health_facility" },
      { "data": "last_activity" },
      { "data": "last_user" },
      { "data": "actions", "className": "text-right"  },
    ],
    'columnDefs': [{
      'targets': [5,6,7],
      'orderable': false,
    }, {
      'targets': [4],
      'visible': $("#devices-datatable").data('from') !== 'health_facility'
    }]
  });
});
