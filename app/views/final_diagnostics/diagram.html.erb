<div class="row my-1">
  <div class="col align-self-center"><%= render_breadcrumbs %></div>
  <div class="col align-self-center text-right text-uppercase font-weight-light breadcrumbs"><%= link_to @diagnostic.label, diagram_algorithm_version_diagnostic_url(params[:algorithm_id], params[:version_id], params[:diagnostic_id]) %> - <%= @final_diagnostic.label %></div>
</div>
<div class="row">
  <div class="col-md-12">
    <p class="mx-0 my-0 metadata" data-type="<%= @final_diagnostic.node_type %>" data-id="<%= @diagnostic.id %>" data-version="<%= @diagnostic.version.id %>" data-algorithm="<%= @diagnostic.version.algorithm.id %>" data-final_diagnostic="<%= @final_diagnostic.id %>"></p>
    <%= react_component('diagram', {
      context: {
        instanceable: @final_diagnostic.diagnostic_json,
        instances: @final_diagnostic.health_care_questions_json + @final_diagnostic.health_cares_json,
        availableNodes: @final_diagnostic.available_nodes_health_cares_json,
        questionCategories: Question.categories('FinalDiagnostic').as_json,
        questionsSequenceCategories: QuestionsSequence.categories.as_json,
        readOnly: !policy(@final_diagnostic).new?
      }
    }) %>
  </div>
  <button type="button" class="btn btn-sm btn-info help" data-toggle="popover" data-placement="top" data-html="true" data-content="<%= render 'helps/diagram' %>">
    <i class="material-icons">
      help_outline
    </i>
  </button>
</div>

